{"version":3,"sources":["../assets/scripts/main.js"],"names":["$","load_resize","$navbar","css","outerHeight","window","width","hero_content_height","height","$hero_footer","$form","resize","carousel","interval","pause","ride","sr","ScrollReveal","reveal","duration","focusout","this","val","parent","removeClass","focus","addClass","submit","event","console","log","preventDefault","datastring","serializeArray","fields","br","each","i","fld","name","value","html","ajax","type","url","data","key","message","from_email","to","email","autotext","subject","track_opens","track_clicks","fail","response","show","delay","fadeOut","done","thanks_html","replace","slideUp","slideDown","$img","jQuery","imgID","attr","imgClass","imgURL","get","$svg","find","removeAttr","replaceWith"],"mappings":"AAAAA,EAAA,WAMA,QAAAC,KAIA,GAHAC,EAAAF,EAAA,WACAA,EAAA,QAAAG,IAAA,cAAAD,EAAAE,eAEAJ,EAAAK,QAAAC,SAAA,IAAA,CACA,GAAAC,GAAAP,EAAAK,QAAAG,SAAAN,EAAAE,cAAAK,EAAAL,aACAJ,GAAA,iCAAAG,IAAA,SAAAI,GAGAP,EAAAK,QAAAC,SAAA,KACAN,EAAA,iBAAAG,IAAA,SAAAH,EAAAK,QAAAC,QAAA,KAdA,GAAAG,GAAAT,EAAA,6BACAE,EAAAF,EAAA,WACAU,EAAAV,EAAA,gBAkBAC,KACAD,EAAAK,QAAAM,OAAA,WACAV,MAIAD,EAAA,kBAAAY,UACAC,SAAA,IAAAC,OAAA,EAAAC,MAAA,IAIAV,OAAAW,GAAA,GAAAC,cACAD,GAAAE,OAAA,uCAEAF,GAAAE,OAAA,qBAAAC,SAAA,KAAA,KACAH,GAAAE,OAAA,aAAAC,SAAA,KAAA,IAsBAnB,EAAA,2CAAAoB,SAAA,WACA,KAAApB,EAAAqB,MAAAC,OACAtB,EAAAqB,MAAAE,SAAAC,YAAA,WAGAxB,EAAA,2CAAAyB,MAAA,WACAzB,EAAAqB,MAAAE,SAAAG,SAAA,WAGAhB,EAAAiB,OAAA,SAAAC,GACAC,QAAAC,IAAA,iCACAF,EAAAG,gBAEA,IAAAC,GAAAhC,EAAAqB,MAAAY,iBAEAC,EAAA,OAAAC,EAAA,EAEAnC,GAAAoC,KAAAJ,EAAA,SAAAK,EAAAC,GACAH,EAAA,YAAAG,EAAAC,KAAA,GAAA,OACAL,GAAA,UAAAI,EAAAC,KAAA,SAAAJ,EAAAG,EAAAE,MAAA,UAGAN,GAAA,OAEA,IAAAO,GAAA,yEACAP,EAAA,6HAEAlC,GAAA0C,MACAC,KAAA,OACAC,IAAA,qDACAC,MAEAC,IAAA,yBACAC,SACAC,WAAA,uBACAC,KAOAC,MAAA,sBACAX,KAAA,iBACAI,KAAA,OAGAQ,SAAA,OACAC,QAAA,oBAAApD,EAAA,iBAAAsB,MACAmB,KAAAA,EACAY,aAAA,EACAC,cAAA,MAcAC,KAAA,SAAAC,GACAxD,EAAA,eAAAyC,KAAA,kHAAAgB,OAAAC,MAAA,KAAAC,QAAA,OACAC,KAAA,SAAAJ,GACA3B,QAAAC,IAAA,gBACA,IAAA+B,GAAA7D,EAAA,aAAAyC,OAAAqB,QAAA,SAAA9D,EAAA,iBAAAsB,MACAZ,GAAAqD,QAAA,KACA/D,EAAA,aAAAyC,KAAAoB,GAAAG,UAAA,SAkBAhE,EAAA,WAAAoC,KAAA,WACA,GAAA6B,GAAAC,OAAA7C,MACA8C,EAAAF,EAAAG,KAAA,MACAC,EAAAJ,EAAAG,KAAA,SACAE,EAAAL,EAAAG,KAAA,MAEApE,GAAAuE,IAAAD,EAAA,SAAAzB,GAEA,GAAA2B,GAAAN,OAAArB,GAAA4B,KAAA,WAGA,KAAAN,IACAK,EAAAA,EAAAJ,KAAA,KAAAD,QAGA,KAAAE,IACAG,EAAAA,EAAAJ,KAAA,QAAAC,EAAA,kBAIAG,EAAAA,EAAAE,WAAA,YAGAF,EAAAJ,KAAA,YAAAI,EAAAJ,KAAA,WAAAI,EAAAJ,KAAA,UACAI,EAAAJ,KAAA,UAAA,OAAAI,EAAAJ,KAAA,UAAA,IAAAI,EAAAJ,KAAA,UAIAH,EAAAU,YAAAH,IAEA","file":"main.js","sourcesContent":["$(function() {\n  \n  var $hero_footer = $('.layout-hero .hero-footer');\n  var $navbar      = $(\"#header\");\n  var $form = $(\"#contact-form\");\n\n  function load_resize() {\n    $navbar = $(\"#header\"); \n    $('body').css('padding-top', $navbar.outerHeight());\n\n    if($(window).width() >= 768) {\n      var hero_content_height = $(window).height() - $navbar.outerHeight() - $hero_footer.outerHeight();\n      $('#hero-content, #hero-carousel').css('height', hero_content_height);\n    }\n\n    if($(window).width() >= 992) {\n      $('.layout-image').css('height', ($(window).width()/2.5));\n    }    \n  \n\n  }\n\n  load_resize();\n  $(window).resize(function() { \n    load_resize(); \n  }); // onresize\n\n  // Carousel\n  $('#hero-carousel').carousel({\n    interval: 6000, pause: false, ride: true\n  });\n\n  // ScrollReveal\n  window.sr = new ScrollReveal();\n  sr.reveal('section h2, .reveal, section header');\n  // Reveal in a ripple efffect\n  sr.reveal('.howwehelp-action', { duration: 800 }, 100);\n  sr.reveal('section p', { duration: 500 }, 50);\n  //Scrollmagic\n  // var controller = new ScrollMagic.Controller({\n  //   globalSceneOptions: {\n  //     triggerHook: 'onLeave'              \n  //   }\n  // });\n\n  // var slides = ['#layout-canyon', '#layout-canyon2', '#layout-canyon3', '#footer']; \n\n  // new ScrollMagic.Scene({ triggerElement: '#layout-content', duration: 500 })\n  //   .setPin('#layout-content')\n  //   .addTo(controller);\n\n  // // create scene for every slide\n  // for (var i=0; i<slides.length; i++) {\n  //   $(slides[i]).addClass('layout-fs');\n  //   new ScrollMagic.Scene({ triggerElement: slides[i] })\n  //     .setPin(slides[i])\n  //     .addTo(controller);\n  // }\n\n  $(\".form-group input, .form-group textarea\").focusout(function(){\n      if($(this).val() === \"\"){\n        $(this).parent().removeClass('focus');\n      }\n  }); \n  $('.form-group input, .form-group textarea').focus(function() {\n    $(this).parent().addClass('focus');\n  });\n\n  $form.submit(function( event ) {\n    console.log( \"Handler for .submit() called.\" );\n    event.preventDefault();\n\n    var datastring = $(this).serializeArray();\n\n    var fields = '<ul>'; var br = '';\n\n    $.each(datastring, function( i, fld ) {\n      br = fld.name !== 'Message' ? '' : '<br>';\n      fields+=\"<li><b>\" + fld.name + \":</b> \" + br + fld.value + \"</li>\";\n    });\n\n    fields+=\"</ul>\";\n\n    var html = \"<p>Hello!</p><p>You have received a new Parachute website enquiry.</p>\" +\n    fields + \"<p>&nbsp;</p><p>&nbsp;</p><hr><p><em><small>This is an automated message from https://www.parachute.com.au</small></em></p>\";\n\n    $.ajax({\n      type: 'POST',\n      url: 'https://mandrillapp.com/api/1.0/messages/send.json',\n      data: {\n        //'key': 'qQ2_bQU2BL_ad3Sdvy7RgA', // SAJEN MANDRILL API KEY\n        'key': 'QcXJRxVWxBu7qctC1bgv9g', // VA MANDRILL API KEY\n        'message': {\n          'from_email': 'web@parachute.com.au',\n          'to': [\n          // {\n          //     'email': 'info@parachute.com.au' \n          //     'name': 'Parachute Team',\n          //     'type': 'to'\n          //   },\n            {\n              'email': 'skye@weareva.com.au',\n              'name': 'Parachute Team',\n              'type': 'to'\n            }\n          ],\n          'autotext': 'true',\n          'subject': 'Web enquiry from ' + $(\"#contact-name\").val(),\n          'html': html,\n          'track_opens': true,\n          'track_clicks': true\n          // optional merge variables. must also be setup on the list management side of mandrill\n          /* 'merge_vars': [{\n            'rcpt': $('.email').val(),\n            'vars': [{\n              'name': 'FRIEND',\n              \"content\": 'Skye'\n            }, {\n              'name': 'YEARS',\n              'content': '27'\n            }]\n          }], */\n        }\n      }\n    }).fail(function(response) {\n      $(\"#form-error\").html(\"Sorry, there was an error sending your enquiry. Please try again soon or email help@parachute.com.au directly.\").show().delay(5000).fadeOut(300);\n    }).done(function(response) {\n      console.log(\"Enquiry sent!\");\n      var thanks_html = $(\"#thankyou\").html().replace(\"[NAME]\", $(\"#contact-name\").val()); \n      $form.slideUp(300);\n      $(\"#thankyou\").html(thanks_html).slideDown(500);\n    });\n  });\n\n    // if($(window).width() >= 992) {\n    //   $('#fullpage').fullpage({\n    //     anchors:['section1','section2', 'section3'],\n    //     scrollOverflow: true,\n    //     autoScrolling:true,\n    //     slideSelector: '',\n    //     //css3:false\n    //     normalScrollElements: '#intro'\n    //   });\n    // }\n\n    /*\n     * Replace all SVG images with inline SVG\n     */\n    $('img.svg').each(function(){\n        var $img     = jQuery(this);\n        var imgID    = $img.attr('id');\n        var imgClass = $img.attr('class');\n        var imgURL   = $img.attr('src');\n\n        $.get(imgURL, function(data) {\n            // Get the SVG tag, ignore the rest\n            var $svg = jQuery(data).find('svg');\n\n            // Add replaced image's ID to the new SVG\n            if(typeof imgID !== 'undefined') {\n                $svg = $svg.attr('id', imgID);\n            }\n            // Add replaced image's classes to the new SVG\n            if(typeof imgClass !== 'undefined') {\n                $svg = $svg.attr('class', imgClass+' replaced-svg');\n            }\n\n            // Remove any invalid XML tags as per http://validator.w3.org\n            $svg = $svg.removeAttr('xmlns:a');\n\n            // Check if the viewport is set, if the viewport is not set the SVG wont't scale.\n            if(!$svg.attr('viewBox') && $svg.attr('height') && $svg.attr('width')) {\n                $svg.attr('viewBox', '0 0 ' + $svg.attr('height') + ' ' + $svg.attr('width'));\n            }\n\n            // Replace image with new SVG\n            $img.replaceWith($svg);\n\n        }, 'xml');\n\n    });\n\n\n});\n"],"sourceRoot":"assets/scripts/"}